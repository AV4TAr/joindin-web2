{%
set talkUrl = urlFor(
    'talk-quicklink', {"talkStub": talk.getStub}
)
%}

<article class="talk row">
    <div class="col-xs-12 title">
        <section>
            <h3 class="header">
                <a href="{{ talkUrl }}">{{ talk.getTitle }}</a>
            </h3>

            {% include '_common/rating.html.twig' with {'rating': talk.getAverageRating, 'style': 'vertical'} %}

            <p class="meta">
                {{ talk.getStartDateTime|date('M d Y') }}

                at
                <a href="{{ urlFor('event-detail', {'friendly_name': event.url_friendly_name}) }}">{{ event.name }}</a>

                |

                <a href="{{ talkUrl }}#comments">
                    {{ talk.getCommentCount}}
                    {% if talk.getCommentCount == 1 %}
                        comment
                    {% else %}
                        comments
                    {% endif %}
                </a>

                <br/>
                by
                {% for speaker in talk.getSpeakers %}
                    {{ speaker.speaker_name }}{% if not loop.last %}, {% endif %}
                {% endfor %}
            </p>
        </section>
    </div>
</article>
